var lo=window.localStorage.getItem("lo"),cR=JSON.parse(window.localStorage.getItem("cR"));let $=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document);import D from"../JS/D.js";let pL=D.P;var sI=0;let $mOff=$("#modal .close-btn"),$mL=$("body #modal");function start(){null==cR?window.location="../index.html":(fP(cR,30),setTimeout((()=>{qV("PSh")}),500),clonedLogoList())}function showSlides(){let e;var s=$("#slider-section");let n=$$(".mySlides"),t=s.getElementsByClassName("dot");for(sI++,e=0;e<n.length;e++)n[e].style.display="none";for(sI>n.length&&(sI=1),e=0;e<t.length;e++)t[e].className=t[e].className.replace(" active","");n[sI-1].style.display="block",t[sI-1].className+=" active",setTimeout(showSlides,5e3)}function renderPPp(e){var s=$("#PSh  #LoP .row");s.innerHTML="";var n=e.map(((e,s)=>`\n            <div class="col l-2 lm-2-4 m-4 c-6 product-item-cover product-item-${s}">\n                <div class="product-item">\n                    <div class="product-image__wrapper" title="${e[0]}">\n                        <img src="../image/kho sản phẩm1/${e[0].toUpperCase()}.jpg" alt="${e[0]}" class="P-image">\n                    </div>\n                    <div class="P-content">\n                        <h3 class="P-name">${e[1]} ${e[6]}</h3>\n                        <details>\n                                <summary>Thêm thông tin</summary>\n                                <h4 class="P-SKU">${e[0]}</h4>\n                                <p class="P-size">${e[4]}</p> <br>\n                                <p class="P-brand" style="display:inline-block">${e[5]}</p>\n                                <p class="P-group" style="display:block; font-style: italic"> ${e[2]}</p>\n                                <p class="P-description-1">công dụng: ${e[3]}</p>\n                                <a href="tel:0946444993">\n                                        <p class="P-price">\n                                            <i class="fa-regular fa-hand-pointer P-icon"></i>\n                                            Liên hệ\n                                        </p>\n                                    </a>\n                                <span class="P-status stock-${e[7]}"></span>\n                        </details>\n                    </div>\n                </div>\n            </div>`));s.innerHTML=n.join(" "),qV("PSh"),n=0}function qV(e){Array.from($$("#"+e+" .product-image__wrapper ")).map((e=>{e.onmousedown=function(e){var s=this.title.toUpperCase();$mL.querySelector(".HQ-image__wrapper .image1").src=`../image/kho sản phẩm1/${s}.jpg`,$mL.querySelector(".HQ-image__wrapper .image2").src=`../image/kho sản phẩm1/${s}.jpg`,$mL.querySelector(".download-btn a").href=`../image/kho sản phẩm1/${s}.jpg`,$mL.querySelector(".content-wrapper.product-image").style.display="flex",$mL.style.display="flex"}}))}start();let $cM=$("#modal .theme-mode button");function clonedLogoList(){var e=$(".carousel__slider"),s=$(".carousel__list").cloneNode(!0);e.appendChild(s)}$cM.onmousedown=function(){$mL.querySelector(".image1").classList.toggle("outline-dark-mode"),$mL.querySelector(".image2").classList.toggle("outline-dark-mode"),this.classList.toggle("bg-dark-mode"),"Nền tối"===this.innerHTML?this.innerHTML="Nền sáng":this.innerHTML="Nền tối"},window.onscroll=function(){var e=$("#header-section");window.scrollY>=120?e.classList.add("header-sticky-jum-effect"):e.classList.remove("header-sticky-jum-effect")};let $sB=$("#search-bar"),$sL=$("#search-list");$sB.onmousedown=function(){$sL.style.display="block",$sL.style.zIndex="2",$sB.onkeyup=function(e){switch(renSL(),e.which){case 27:$sB.value="","block"!=$sL.style.display&&"flex"!=$sL.style.display||($sL.style.display="none",$sL.innerHTML="",$sL.style.zIndex="-1");break;case 13:gotoPP(this.value.trim().toLowerCase())}}};var $sBtn=$("#header-section .search-bar-btn"),$sW=$("#header-section .search-bar__warning");function gotoPP(e){e.length>1?(searchItem(e),window.localStorage.setItem("cRword",JSON.stringify(e)),window.location.reload()):($sL.style.display="none",$sL.innerHTML="",$sW.style.display="block",setTimeout((()=>{$sW.style.display="non"}),3e3))}function gotoPPG(e){e.length>1?(searchGroup(e),window.localStorage.setItem("cRword",JSON.stringify(e)),window.location.reload()):($sL.style.display,$sW.style.display="block",setTimeout((()=>{$sW.style.display="non"}),3e3))}function renSL(){let e;if(e=$sB.value.toLowerCase().trim(),e.length>1&"thương hiệu"!==e&"giá"!==e&void 0!==e){$sW.style.display="none",$sL.style.display="block";var s=e.trim().split(" ").filter((e=>"màu"!==e&"thương"!==e&"hiệu"!==e&"giá"!==e&"khổ"!==e&"tiền"!==e&"+"!==e&"<window>"!==e&"script"!==e&"<localstorage>"!==e)),n=s.reduce(((e,s)=>{var n=e.map((e=>{var n=e[0].toLowerCase(),t=e[1].toLowerCase(),o=e[2].toLowerCase(),i=e[3].toLowerCase(),a=e[4].toLowerCase(),l=e[5].toLowerCase(),r=e[6],c=n.includes(s),m=t.includes(s),d=o.includes(s),p=i.includes(s);if(!0===m)m=1;else m=0;if(!0===c)c=1;else c=0;if(!0===d)d=1;else d=0;if(!0===(u=r.includes(s)))var u=1;else u=0;if(!0===($=l.includes(s)))var $=1;else $=0;if(!0===p)p=1;else p=0;if(!0===(g=a.includes(s)))var g=1;else g=0;return[n,t,o,i,a,l,r,m+c+d+p+u+$+g]}));return n.filter((e=>e[7]>=1))}),pL),t="";if(n.length>0)t+=n.map((e=>`\n                <li class="product-image__wrapper" title="${e[0]}">\n                <a href="#" class="SP-wrapper"> \n                <div style="display:block;height:82px; min-width:82px;  text-align:center; margin: 4px 0 0 4px">\n                <img src="../image/kho sản phẩm1/${e[0].toUpperCase()}.jpg" alt="${e[0]}" class="product-image">\n                </div>\n                <p class="P-name">${e[1]}</p>\n                </a> \n                </li>`)).join(" ");else t='<div class="no-item">Không có sản phẩm này</div>';$sL.innerHTML=t}else $sL.style.display="none",$sL.innerHTML="";$("ul#search-list");$sL.onmousedown=function(e){e.preventDefault()},qV("search-list")}function searchItem(e){if("thương hiệu"!==e&"giá"!==e&void 0!==e){$sW.style.display="none",$sL.style.display="block";var s=e.trim().split(" ").filter((e=>"màu"!==e&"thương"!==e&"hiệu"!==e&"giá"!==e&"khổ"!==e&"tiền"!==e&"+"!==e&"<window>"!==e&"script"!==e&"<localstorage>"!==e)).reduce(((e,s)=>{var n=e.map((e=>{var n=e[0].toLowerCase(),t=e[1].toLowerCase(),o=e[2].toLowerCase(),i=e[3].toLowerCase(),a=e[4].toLowerCase(),l=e[5].toLowerCase(),r=e[6],c=n.includes(s),m=t.includes(s),d=o.includes(s),p=i.includes(s);if(!0===m)m=1;else m=0;if(!0===c)c=1;else c=0;if(!0===d)d=1;else d=0;if(!0===(u=r.includes(s)))var u=1;else u=0;if(!0===($=l.includes(s)))var $=1;else $=0;if(!0===p)p=1;else p=0;if(!0===(g=a.includes(s)))var g=1;else g=0;return[n,t,o,i,a,l,r,m+c+d+p+u+$+g]}));return n.filter((e=>e[7]>=1))}),pL);window.localStorage.setItem("cR",JSON.stringify(s))}else window.localStorage.setItem("cR","Không có sản phẩm này")}function searchGroup(e){var s=pL.filter(((s,n,t)=>s[2].includes(e)));window.localStorage.setItem("cR",JSON.stringify(s)),s=0}$sBtn.onclick=function(){gotoPP($sB.value.trim().toLowerCase())},$("#PSh").onmousedown=function(){"block"!=$sL.style.display&&"flex"!=$sL.style.display||($sL.style.display="none",$sL.innerHTML="",$sL.style.zIndex="-1"),$sW.style.display="none"},$("#header-section").onmousedown=function(){$sW.style.display="none"},$mOff.onmouseup=function(){$mL.style.display="none",$mL.querySelector(".content-wrapper.product-image .image1").src="",$mL.querySelector(".content-wrapper.product-image .image2").src=""},$("body").onkeyup=function(e){if(27===e.which)$mL.style.display="none",$mL.querySelector(".content-wrapper.product-image .image1").src=""};var $$iamgeTrack=Array.from($$(".gallery-track"));$$iamgeTrack.map(((e,s,n)=>{e.onmouseover=function(){n.map((e=>{e.style.animationPlayState="paused"}))},e.onmouseout=()=>{n.map((e=>{e.style.animationPlayState=""}))}}));const autoScroll=()=>{window.scrollBy(0,1e4);setTimeout(autoScroll,10)};function nP(e,s){for(var n=Math.ceil(e.length/s),t=[],o=1;o<=n;o++)t.push(o+1);$("#page-number .page-list .next-pages").innerHTML=t.map((e=>`<div class="page-${e} page-btn ">${e}</div>`)).join(""),Array.from($$("#page-number .page-list .next-pages .page-btn")).map(((n,t,o)=>{n.onmouseup=function(){renderPPp(e.slice(s*t,s*(t+1)))}}))}function fP(e,s){var n=JSON.parse(window.localStorage.getItem("cRword"));$("#search-result .heading-block h2").innerHTML=`Kết quả tìm kiếm của <span style="color:#20a2ee"><em>${n}</em></span> : ${e.length} sản phẩm`,window.localStorage.setItem("cR1",JSON.stringify(e.slice(0,s))),renderPPp(JSON.parse(window.localStorage.getItem("cR1"))),$("#page-number .page-1").onmouseup=function(){renderPPp(JSON.parse(window.localStorage.getItem("cR1")))},nP(e.slice(s,e.length),s)}Array.from($$("#page-number .page-list .page-btn")).map(((e,s,n)=>{e.onclick=function(){n.map((e=>{e.classList.remove("current-page")})),e.classList.add("current-page")}}));var $mM=$("#header-section .col.menu-block");$mM.ontouchend=function(){$("#mobile-menu").classList.add("open"),$("#mobile-menu .menu-wrapper").classList.add("active")},$("#mobile-menu .none-menu").ontouchstart=function(){$("#mobile-menu .menu-wrapper").classList.remove("active"),setTimeout((()=>{$("#mobile-menu").classList.remove("open")}),150)},Array.from($$(".menu-list li")).map(((e,s,n)=>{e.onclick=function(){gotoPPG(this.querySelector("h3").textContent.trim())}}));
